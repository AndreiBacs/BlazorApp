@page "/"
@using BlazorApp.Data
@using System.Xml.Linq

<div style="display:inline-flex ;width: 60%;margin:15px">
  <FetchData OnSelectEmployee="OnSelectEmployee" />
</div>

@if (showForm)
{
  <div style="display:inline-flex ;margin:15px">
    <Form employee="employee" Tasks="Tasks" onCancel="onCancel" />
  </div>
}


@code {
  bool showForm = false;

  Employee employee = new Employee();

  List<string> Tasks = new List<string>();

  protected override void OnInitialized()    
  {
      XDocument doc = XDocument.Load("Tasks.xml"); 
      Tasks = doc.Root.Elements("task").Select(x=>x.Value).ToList();
  }

  void OnSelectEmployee(Employee e)
  {
    employee = e;
    showForm = true;
  }

  void onCancel()
  {
    showForm = false;
    employee = new Employee();
  }
}